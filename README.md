# 시흥 집 값 분석 웹앱 개발

![](images/clipboard-3410295722.png)

<https://www.shinyapps.io/admin/#/application/13687459>

<aside>![](https://www.notion.so/icons/document_gray.svg){alt="https://www.notion.so/icons/document_gray.svg" width="40px"} 목차</aside>

<aside>

### 프로젝트의 배경 및 목표

</aside>

시흥시에 사는 우리 가족은 이사를 할 예정이며, 부모님은 시흥시 내에서만 거주하기를 원하신다.

우리 집은 2019년에 완공된 신축 아파트임에도 가격이 오르지 않아 매매가 아쉬운 상황이다. 이에 시흥시 각 동네의 아파트 매매 금액을 쉽게 확인할 수 있는 웹 서비스를 만들어보고자 했다.

Shiny패키지를 통하여 웹 서비스 개발해 집값의 상승 시기를 예측하고, 선택한 동네의 아파트 가격이 시흥시 평균 집값과 얼마나 차이가 나는지 한눈에 파악하는 것이 목표이다.

------------------------------------------------------------------------

<aside>

### 활용한 데이터셋

</aside>

| 출처 | 데이터셋 | 데이터 설명 |
|------------------------|------------------------|------------------------|
| 공공데이터포털 | 국토교통부 아파트 매매 실거래가 자료 API | 2013\~2024년 시흥시 전역 아파트 매매 실거래가 |
| Kakao Developers | 카카오맵 API | 지오코딩을 위한 카카오맵 API 활용 |
| 국토정보플랫폼 | 시흥시 경계 SHP(Shape) 파일 | 시흥시 경계와 격자 단위 구분을 위한 공간정보 파일 |

------------------------------------------------------------------------

<aside>

### 프로젝트 진행 과정

</aside>

공공데이터포털에서 국토교통부 아파트 매매 실거래가 자료 API를 활용하여 2013년 01월 01일 \~ 2024년 12월 31일까지 아파트 매매 실거래가 자료를 수집하였다. 79,470건의 데이터가 나왔으며 데이터 전처리와 지오데이터프레임으로 만드는 과정에서 결측값이 생겨 분석에 사용한 총 데이터는 74,369건을 사용하였다.

국토교통부 아파트 매매 실거래가 자료에는 지리정보가 나와있지 않아 원본 자료의 주소와 지번을 결합하고 카카오맵 API를 이용해서 지리정보를 생성했다.

그 후 sp, sf 패키지를 이용하여 지오데이터프레임을 생성하였으며 시각화를 통하여 지오코딩이 잘 되어있는지 확인해 본 결과 이상한 지역의 데이터가 들어가 있는 것을 확인할 수 있었다.

![](images/clipboard-861811603.png)

확인결과 카카오 API를 이용하여 공간정보를 생성하는 도중 똑같은 이름의 주소이지만 다른 지역인 데이터들이 시흥시가 아닌 다른 지역으로 공간정보가 할당 된 것을 확인하였다.

데이터가 188건으로 크지 않고 우리 가족이 이사를 고려한 장소가 아니라고 판단하여 그냥 이들을 제거하고 분석을 진행해주었다.

![](images/clipboard-2677023485.png)

국토교통플랫폼에서 시흥시 전역의 행정구역에 대한 SHP파일을 이용하여 시흥시 경계와 시흥시 내부 500m 간격 격자를 생성해주었다.

![](images/clipboard-3658515624.png)

그리고 아파트 주소별로 아파트 평균 가격을 시각화 해보았다.

시흥은 현재 신도시를 많이 짓고있는 중이다. 아파트 격자를 확인해보면 신도시 위주로 아파트의 평균 가격이 비싼 것을 확인해 볼 수 있다.

은계, 대야, 배곧, 능곡이 해당된다.

이 데이터를 통해서 래스터 이미지를 만들어 시각화를 해보려 했으나 래스터 이미지가 생각보다 연하고 시각화 과정에서 원치 않은 이미지들이 자꾸 생성되어 래스터 이미지를 통한 분석은 실행하지 못했다.

![](images/clipboard-592872500.png)

위에서 생성한 500m 시흥시 격자 데이터와 아파트 가격 데이터를 공간 결합하고 leaflet 패키지와 마커클러스터링 기법을 이용하여 어느 지역이 거래량이 많은지 한눈에 볼 수 있는지 시각화 해주었다.

마커를 눌러주면 자동으로 그 지역으로 화면이 확대되며 더욱 쉽게 원하는 지역으로 갈 수 있다.

![](images/clipboard-3410295722.png)

최종적으로 500m 격자 데이터와 아파트 가격 데이터에서 아파트가 존재하는 grid만 추출하여 지도상에 표시해주었다.

격자를 클릭하면 다음과 같은 것들이 웹에서 실행이 된다.

### Chart

-   시흥시 전체 및 격자를 누른 지역의 평균 가격 밀도 그래프

-   월별 평당 가격 변화 및 회귀선

-   아파트 이름, 가격, 층수, 건축 연도, 면적을 이용한 PCA분석 그래프

    ![](images/clipboard-3968325057.png)

### Table

-   거래일, 동네이름, 아파트이름, 건축연도, 면적, 층수, 가격, 평당가격 출력
-   결과를 Excel로 저장할 수 있다.

이것들이 출력이 된다.

<aside>

### 분석 결과

</aside>

위와 같이 만든 웹 앱은 현재

<https://xoosl0331.shinyapps.io/Siheunghouseprice/>

이 사이트에 배포가 되어있다.

공간데이터에 대해서 학부 과제로 조사해본적이 있어서 관심은 전부터 있었는데 이렇게 구현을 해본 것은 처음이라 많이 부족했던 프로젝트였다.

특히 현재 배포된 웹에서 문제가 ‘전용면적’과 ‘건축연도’를 max로 하지않으면 원하지 않은 지역이 출력되는 것이 큰 오점이다. 이를 바로 잡고싶어 몇날 며칠을 고민해보았지만 혼자 힘으로 해결이 되지 않아 80%정도 마음에 드는 프로젝트다.

또한 아파트 별이 아니라 500m 격자별로 아파트 가격에 대한 정보를 주는 것이라 신축과 구축이 섞여있는 우리 동네(격자)같은 경우는 우리 아파트만의 가격 예측을 할 수 없어 아쉽다.

그래도 공간데이터를 다루는 방식과 leaflet, shiny 패키지를 제대로 다룰 수 있는 기회가 되었으며

이 웹 앱을 더 발전시켜 아파트 별로 격자를 만든 뒤 시계열 분석이나 딥러닝 분석 결과를 통하여 아파트 가격 예측을 하는 웹을 만들고 싶다.

------------------------------------------------------------------------

<aside>

### 프로젝트를 통해 얻은 인사이트

</aside>

정말 많은 것을 배울 수 있는 프로젝트였다.

-   공간데이터 분석에 대한 기초지식
-   마커클러스터링과 래스터 이미지에 대한 지식
-   leaflet, shiny 패키지를 통한 제대로 된 앱 구현과 배포
-   분석 목적과 맞게 우리가 이사 갈만한 집에 대해서 정보를 한눈에 알아볼 수 있어서 조금만 앱을 다듬으면 이사갈 때 도움이 될 것 같다.
